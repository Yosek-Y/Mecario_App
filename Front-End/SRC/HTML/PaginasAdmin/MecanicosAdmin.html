<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mecario - Administrador - Mecanicos</title>

    <!-- Iconos (FontAwesome) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Fuentes para títulos y texto -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

    <!-- Archivo de estilos del módulo -->
    <link rel="stylesheet" href="../../CSS/EstilosAdmin/EstilosMecanicosAdmin.css">
</head>

<body>

    <!-- ============================================================
         HEADER SUPERIOR
         Contiene el logo, navegación entre módulos y accesos rápidos
    =============================================================== -->
    <header>
        <div class="logo-container">
            <img src="../../../ASSETS/IMAGENES/Logo_Blanco_Mecario.png" alt="Logo Mecario" class="logo-img">
            <span class="brand-name">MECARIO</span>
        </div>

        <!-- Menú principal hacia otros módulos -->
        <nav>
            <ul>
                <li><a href="../PaginasAdmin/CasosAdmin.html">Casos</a></li>
                <li><a href="../PaginasAdmin/ClientesAdmin.html">Clientes</a></li>
                <li><a href="../PaginasAdmin/PiezasAdmin.html">Piezas</a></li>
                <li><a class="active" href="../PaginasAdmin/MecanicosAdmin.html">Mecánicos</a></li>
            </ul>
        </nav>

        <!-- Íconos superiores y botón de logout -->
        <div class="top-banner-icons">

            <!-- Buscador -->
            <a href="https://www.google.com" target="_blank" class="icon-link" title="Buscar en Google">
                <i class="fas fa-search"></i>
            </a>

            <!-- Íconos de redes sociales -->
            <a href="#" class="icon-link"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="icon-link"><i class="fab fa-instagram"></i></a>
            <a href="#" class="icon-link"><i class="fab fa-linkedin-in"></i></a>

            <!-- Cerrar sesión -->
            <button class="btn-logout" onclick="window.location.href='../HTML/Home.html'">Logout</button>
        </div>
    </header>


    <!-- ============================================================
         CONTENEDOR PRINCIPAL DEL MÓDULO DE MECÁNICOS
    =============================================================== -->
    <div class="container">

        <h1>Módulo de Mecánicos</h1>

        <!-- Menú interno para mostrar las diferentes secciones -->
        <div class="menu">
            <a href="#agregar" class="menu-btn">Agregar Mecánico</a>
            <a href="#ver" class="menu-btn">Ver Mecánicos</a>
            <a href="#asignar" class="menu-btn">Asignar Caso</a>
            <a href="#casos" class="menu-btn">Casos por Status</a>
        </div>

        <!-- ============================================================
             SECCIÓN DE REGISTRO DE UN MECÁNICO
        =============================================================== -->
        <section id="agregar" class="section hidden">
            <h2>Registrar Nuevo Mecánico</h2>

            <!-- Formulario de registro -->
            <form method="post" class="formulario">

                <label for="Nombre_Mec">Nombre Completo</label>
                <input type="text" id="Nombre_Mec" name="Nombre_Mec" required>

                <label for="Telefono_Mec">Teléfono</label>
                <input type="tel" id="Telefono_Mec" name="Telefono_Mec" required>

                <label for="Email_Mec">Correo Electrónico</label>
                <input type="email" id="Email_Mec" name="Email_Mec" required>

                <label for="Usuario_Mec">Usuario</label>
                <input type="text" id="Usuario_Mec" name="Usuario_Mec" required>

                <label for="Contraseña_Mec">Contraseña</label>
                <input type="password" id="Contraseña_Mec" name="Contraseña_Mec" required>

                <button type="submit" class="btn">Registrar</button>
            </form>
        </section>

        <!-- ============================================================
             LISTA DE MECÁNICOS
        =============================================================== -->
        <section id="ver" class="section hidden">
            <h2>Lista de Mecánicos</h2>

            <table class="tabla">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Teléfono</th>
                        <th>Email</th>
                        <th>Usuario</th>
                    </tr>
                </thead>

                <!-- Aquí se insertan los mecánicos desde backend -->
                <tbody id="tablaMecanicos"></tbody>
            </table>
        </section>

        <!-- ============================================================
             ASIGNAR CASO A UN MECÁNICO
        =============================================================== -->
        <section id="asignar" class="section hidden">
            <h2>Asignar Caso a Mecánico</h2>

            <form class="formulario" method="post">

                <label for="Id_Mecanico">Seleccione Mecánico</label>
                <select id="Id_Mecanico" name="Id_Mecanico" required>
                    <!-- Backend completa esta lista -->
                </select>

                <label for="Id_Caso">ID del Caso</label>
                <input type="number" id="Id_Caso" name="Id_Caso" required>

                <button class="btn" type="submit">Asignar Caso</button>
            </form>
        </section>

        <!-- ============================================================
             VER CASOS POR STATUS
        =============================================================== -->
        <section id="casos" class="section hidden">
            <h2>Casos por Status</h2>

            <form class="formulario">

                <label for="Id_Mecanico_Status">Seleccione Mecánico</label>
                <select id="Id_Mecanico_Status" name="Id_Mecanico_Status">
                    <!-- Backend completa -->
                </select>

                <label for="Status_Caso">Estado del Caso</label>
                <select id="Status_Caso" name="Status_Caso">
                    <option>Pendiente</option>
                    <option>En Proceso</option>
                    <option>Finalizado</option>
                </select>

                <button type="button" class="btn">Buscar</button>
            </form>

            <!-- Tabla que muestra los casos filtrados -->
            <table class="tabla">
                <thead>
                    <tr>
                        <th>ID Caso</th>
                        <th>Descripción</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="tablaCasos"></tbody>
            </table>
        </section>

    </div>

</body>

</html>

<!-- ============================================================
     SCRIPT QUE HACE FUNCIONAR TODO EL MENÚ INTERNO
     Se encarga de mostrar las secciones, ocultar las demás,
     y hacer scroll suave a la sección seleccionada.
================================================================ -->
<script>
document.addEventListener("DOMContentLoaded", () => {

    // Selecciono todos los botones del menú interno
    const botones = document.querySelectorAll(".menu-btn");

    // Selecciono todas las secciones del módulo
    const secciones = document.querySelectorAll(".section");

    // Recorro cada botón del menú
    botones.forEach(boton => {
        boton.addEventListener("click", (e) => {
            e.preventDefault(); // Evita el salto brusco del HTML

            // Obtiene el id de la sección a la que debe ir (#agregar, #ver...)
            let target = boton.getAttribute("href");
            let seccion = document.querySelector(target);

            // Oculto todas las secciones
            secciones.forEach(s => s.classList.add("hidden"));

            // Muestro solo la sección seleccionada
            seccion.classList.remove("hidden");

            // Scroll suave hasta esa sección
            seccion.scrollIntoView({ behavior: "smooth" });
        });
    });
});
</script>
